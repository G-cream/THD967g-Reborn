几种常见的修改地图用工具【截止18年初】：

1. ShadowEditor 【出自老R的MPQ分析操作工具，当前最新版本为0.12，用途为分析地图，现今大部分MPQ加密都已经无法分析，但是当把地图重建破解后可用。】
2. SyrWar3Analysis 【出自超级赛亚人大师的分析工具，当前最新版本为2.4，有免费版和收费版，免费版为阉割过的。不能自动识别垃圾文件然后清除和无法通过模型路径加密，收费版为300元。用途为分析地图内部文件，并且重建地图。主要用于破解MPQ加密】
3. MPQ Editor 【作者不可知，一款功能比较完善并且强大的MPQ编辑工具，不过现在已经不更新，可用到的地方渐微】
4. hkeW3MModifier 【出自火龙的MPQ分析操作工具，目前最新版本为2.06，最经典的一款MPQ分析操作工具，仅就操作功能而言是最简便好用的，不过分析功能已经不行。可用于没有进行MPQ加密和超级赛亚人工具重建后的MPQ地图编辑用。】
5. MPQ Master 【出自Soat的分析操作工具，不过目前是非常多的工具无法再分析】
6. 一条龙集合的资源提取 【出自离不开电脑大神制作的分析和提取资源工具，不过目前依然是很多工具无法分析】
7. 黑白之翼网吧改图一条龙 【原型为超级赛亚人整合的一条龙改版再由黑白之翼重新整合的一些常用工具库，里面好多改图常用工具】
8. EverEdit 【作者不可知，一款比较推荐的文本编辑工具，一般常用于编辑各种文本信息和j文件用的，下面我会放出部分工具，包括这个。】



几种常见的地图优化和加密，仅包括我所知的，还有很多未知不提【截止18年初】：

1. 未加密 【刚用WE编辑器保存下来的地图，没有用任何工具优化或加密过的，可直接用WE编辑器打开编辑，前提是编辑器版本和UI库对应上】
2. 普通优化 【通过优化工具或手动删除一些WE编辑器打开必备的文件，但又不是魔兽读取地图必备的文件，部分需要修改用到的文件下面有讲解说明】
3. SLK优化 【通过优化工具优化成比普通优化更进一步的把物编U、A、T等文件优化成SLK和TXT文件，具体下面会有讲解说明】(w3t、w3a、w3u就是前面的U、A、T文件)
4. J优化 【一般优化工具都会带有，把j文件内部的一些函数名字、变量名字等优化成比较难用肉眼分辨的相同相似字符和把ID进行十进制和十六进制优化处理】
5. MPQ加密 【通过对MPQ文件本身的修改加密来造成MPQ分析操作工具无法打开分析，此加密可以直接用一些工具强制替换或用MPQ分析工具对MPQ地图进行重建来破解】
6. 模型加密 【分两种，一种是模型文件加密，一般用于对地图内的模型进行加密来防止给盗模型，另外一种是模型路径加密，一般用于防止一些不能够通过模型路径加密的重建工具和防止模型给盗取。】
7. J文件中文加密 【出自超级赛亚人，对J文件内部的字符串信息进行算法和特殊字符的加密，最初的版本可以直接用工具解密。】
8. J文件加密 【通过在J文件内部加密，来造成即使重建地图后就无法再运行地图的加密手段，一般只能够靠硬实力来破解这种加密，目前比较少见】
9. 关机加密 【出自阿七的lua加密，通过阿七的加密工具对地图进行加密，如破解修改不当，随意修改的话，当运行地图的时候地图会操作电脑进行关机。截止当前最新版本暂无人可破解】
10. 算法加密 【一般是用于地图内部收费道具加密和方便发货用的，目前比较常见的功能就是难以查看真实密码和动态添加。】



几种常见的修改文件：

1. shd、w3e、wpm，这几个是修改地形的时候可以用到【具体可以用一张空白地图导入要修改的原图shd、w3e、wpm文件，然后再用WE打开这张导入文件后的空白地图即可在WE查看】
2. w3i、wts，这两个文件是修改地图资料和文字信息【可以直接用文本编辑工具打开来进行编辑修改，编码一般为UTF-8】
3. w3t、w3a、w3u，这几个文件是修改地图中比较重要的，这几个是物编文件。通常是用于修改地图的物编资料的【可以用WE编辑器打开后新建一副空白地图，然后按F6打开物体编辑器，再导入这3个文件，就可以查看到物编资料和修改，修改之后再导出，然后再替换回地图即可】
4. war3map.j，这个是最重要的，是所有触发器资料数据都在里面，要修改地图的一些内容都要用到，现在比较常见的破解定制英雄、收费道具等都是修改这个文件的【可以直接用文本编辑工具打开，里面的字符串编码需要转为UTF-8后才可见】
5. Misc.txt，修改地图里面的平衡数据，例如英雄最大等级，卖出买入金额，每点属性增加多少多少攻击或者其他属性等等，都是修改这个的【平衡数据翻译可百度，百度一下有很多翻译，一般比较少修改这个的】
6. Skin.txt，修改游戏界面的资料，例如一些地图，是有一些诸如道行这些魔兽本身没有的特殊名字或者运行地图后右上角的人口提示这些都是修改这个文件的【具体是否有这个文件，要看作者是否有自定义这些界面资料】



SLK优化:

是一种运用在魔兽地图上的最新优化方法之一。War3中的各种数据几乎都保存在Mpq中，比如技能，技能的各项属性值保存在SLK文件中，而文本说明则保存在txt文档中，在技能数据加载中，War3首先读取SLK和txt中的数据，然后是w3a文件（地图的技能自定义数据）。而w3a的读取速度和SLK以及txt的读取速度是有着相当大的差距的，所以如果能将w3a中的数据转到SLK以及txt文档中，那么对于速度的提升将是相当可观的。而当地图中的文档与Mpq中的文档名字相同时，系统会优先读取地图中的文档，那么在地图中导入这些SLK以及txt文件，那么就能达到我们要的效果了，于是SLK技术就这样诞生了。(加载顺序参见: war3文件加载顺序.md)



SLK优化修改：

和修改普通优化的原理一样，只不过修改的方式不一样而已，SLK优化的就是UTA等物编文件中的数据优化成后缀为SLK的文件，技能、物品、单位介绍等优化成后缀为TXT的文件。(注：slk加密地图解压后会缺少一些单位、物品、技能等的文件，多一个Units文件夹。)
我们要修改数据的话就是打开SLK文件后缀的来进行修改，可用微软的办公软件Excel工作表打开进行修改。里面没有中文的，可以打开WE物体编辑器，然后按Ctrl+D来进行转换一下说明，就可以看到里面的那些英文代码的各项说明。
要修改技能、物品、单位介绍等，和SLK文件一样，用记事本打开或者用其他文本编辑工具打开，然后进行修改。
SLK修改是基本只通过ID搜索来进行搜索到自己要修改的目标，而ID获取途径可以打开TXT慢慢找，也可以用ID获取工具直接一键获取。可以用飞影大神或者赛亚人大师的ID提取工具来提取。
Excel里面的各项资料只需要记熟几项比较常见的就行。如果实在记不熟，新手的话。可以用赛亚人大师出品的SLK工具，里面附带注释介绍。对新手非常友好，只不过无法添加，只能够修改。
SLK优化会合并一些文件，例如：会将campaignabilitystrings.txt与campaignabilityfunc.txt合并为一个campaignabilitystrings.txt。同时会删除许多用不到的原版技能与单位的slk。
另外特别说明，SLK优化之后，技能4级及以下的数据在SLK文件中，技能5级及以上的数据在w3a文件中。

修改技能5级及以上的数据:
1. 解压缩地图，将解压出的unit文件夹覆盖到war3目录。
2. 修改AbilityData.slk中的useInEditor列为1，没有该列的要增加该列。
3. 打开world editor，新建地图并导入w3a文件。
4. 修改并导出w3a。

修改技能4级及以下的数据:
直接修改slk文件。

添加技能：
1. 解压缩地图，将解压出的unit文件夹覆盖到war3目录。
2. 修改AbilityData.slk中的useInEditor列为1，没有该列的要增加该列。
3. 打开world editor，新建地图并导入w3a文件。
4. 自定义技能并保存地图。(如果新技能不是继承自已有的自定义技能，前3步可以不要)
5. 优化地图。
6. 打开优化后的地图，取出对应slk及w3a文件。
7. 对比无误后，依次复制到想要修改的地图中的slk文件中。同时参考w3a文件格式简介.md将w3a文件写入到原w3a文件。(原w3a文件通常没有原版技能，所以只需要修改技能数量的对应值，并将新技能的w3a数据附加到原w3a文件最后即可)



关于SLK优化的一些问题：

(1)地图中使用到的物品、技能、单位、科技、魔法效果、装饰物、可破坏物等这些数据（以下简称“数据”），但是没有修改过这些数据的任何一个属性，同时又勾选了那几个“删除多余的数据”，那请一定要使用“智能保留数据”功能，否则将会丢失数据。
(2)如果勾选了“使用高压缩的Zlib Deflate重建地图”，那么请一定保证你的地图里所有文件的列表都在(listfile)里，否则将会丢失文件。
(3)如果要使用Wc3、VXJ等其他优化工具进行后期再优化，那么就不要勾选“删除游戏时不需要的文件”，否则将丢失文件。

(1)为什么我的地图经过优化后，文件变大了？
答：这是正常的。因为.w3u、.w3a等文件转换成SLK文件后，会附带暴雪的默认数据，当然这是很小的。

(2)为什么我的地图经优化后，有些物品或单位不见了？
答：当勾选上删除多余单位、技能、物品等选项时，工具会删除地图里未经修改的默认单位或物品，以加快载入速度。如果要在地图里使用默认的单位或物品，在地图编辑器里至少修改该单位或物品的任意一个属性值即可。查看地图上使用了什么数据可在编辑器里打开“物体管理器”进行对照，这里特别要注意的悬崖和魔法效果，因为悬崖和魔法效果在“物体管理器”中是看不到的。当然现在你可以通过勾选智能保留数据让工具自动搜索地图中用到的数据。

(3)我点优化为什么提示我存储空间不足？
答：因为本工具目前暂不支持对地图的最大文件上限的修改，所以一但文件数超过地图最大
上限需要用户自己在编辑中导入转好的文件,当然你可以勾上自动智能扩展地图哈希表来让工具自动导入文件。什么是哈希表？哈希表是mpq用来存储地图文件路径的一个表值，所以当你的地图要导入的文件大于地图最大文件上限时就需要重新写地图哈希表，所以才会发生文件不能导入的情况。

(4)自己导入文件时如何设置文件的路径？
答：除Doodads.slk用Doodads\做路径外，其它的都用Units\做路径。

(5)怎么我优化后的地图还有w3a文件？我怎么导入这个文件？
答：因为你的地图中有超过4级的技能数据，所以超过4级的数据会留在w3a文件中。导入w3a文件你不能用WE的导入技能数据功能因为那样会丢失一些数据。这时你要用到winmpq工具导入w3a这个文件。

(6)我的地图经过优化后还能不能用wc3 map optimizer优化加密？
答：可以，但是你不可以选上优化字符串选项，那样会破坏w3a文件。

(7)为什么我的地图经过优化后，有的玩家进去会看到红黑的魔方呢？
答：如果你设置的文件地址完全正确的话，那么这是因为那个玩家的魔兽注册表错误或本地mpq里带一些不必要的数据。修正这个的方法是下载魔兽注册表修复工具修复或不优化可破坏物和地形装饰物。


有用的网站：
https://wc3.rivsoft.net/ 可以查看各个slk以及txt文件，同时还可以在线查看编辑器中各单位和技能的状态。

部分转载自https://www.bilibili.com/read/cv241913/